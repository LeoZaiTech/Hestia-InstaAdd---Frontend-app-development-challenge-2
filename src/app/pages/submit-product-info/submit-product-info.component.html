<app-sub-header [breadcrumbs]="breadcrumbs"></app-sub-header>

<div class="body">
  <div class="hero-banner">
    <div class="overlay"></div>
    <h1>Submit Product Info</h1>
  </div>

  <div class="main-box">
    <!-- Left Control Panel -->
    <div class="control">
      <div class="steps">
        <div class="step active">
          <div class="icon">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <rect x="2.5" y="1" width="15" height="18" rx="1.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6.5 1V3C6.5 3.27614 6.72386 3.5 7 3.5H13C13.2761 3.5 13.5 3.27614 13.5 3V1" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 7L11.1756 9.38197L13.8042 9.76393L11.9021 11.618L12.3511 14.2361L10 13L7.64886 14.2361L8.09789 11.618L6.19577 9.76393L8.82443 9.38197L10 7Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
            </svg>
          </div>
          <span>Required</span>
        </div>
        <div class="step">
          <div class="icon">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
              <rect x="0.5" y="0.5" width="39" height="39" rx="19.5" fill="white"/>
              <rect x="0.5" y="0.5" width="39" height="39" rx="19.5" stroke="#AAB2B8"/>
              <path d="M12.5 29V13C12.5 11.8954 13.3954 11 14.5 11H25.5C26.6046 11 27.5 11.8954 27.5 13V29L20 25L12.5 29Z" stroke="#77787B" stroke-width="1.4" stroke-linejoin="round"/>
              <path d="M22.5 18H17.5" stroke="#77787B" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M20 15.5V20.5" stroke="#77787B" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <span>Optional</span>
        </div>
        <div class="step">
          <div class="icon">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
              <rect x="0.5" y="0.5" width="39" height="39" rx="19.5" fill="white"/>
              <rect x="0.5" y="0.5" width="39" height="39" rx="19.5" stroke="#AAB2B8"/>
              <g clip-path="url(#clip0_5528_5773)">
                <path d="M28 19V13.5C28 12.1193 26.8807 11 25.5 11H13.5C12.1193 11 11 12.1193 11 13.5V25.5C11 26.8807 12.1193 28 13.5 28H19" stroke="#77787B" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M15 20H19.5" stroke="#77787B" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M15 16L24 16" stroke="#77787B" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M29.0001 29L27 27" stroke="#77787B" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M24.5 28C26.433 28 28 26.433 28 24.5C28 22.567 26.433 21 24.5 21C22.567 21 21 22.567 21 24.5C21 26.433 22.567 28 24.5 28Z" stroke="#77787B" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              <defs>
                <clipPath id="clip0_5528_5773">
                  <rect width="20" height="20" fill="white" transform="translate(10 10)"/>
                </clipPath>
              </defs>
            </svg>
          </div>
          <span>Preview</span>
        </div>
      </div>

      <div class="subtitle">
        <h3>Required Info</h3>
        <p>This information is needed for all product submissions.</p>
      </div>
    </div>

    <div class="divider"></div>

    <!-- Main Content -->
    <div class="content">
      <form [formGroup]="productForm">
        <!-- Vendor -->
        <div class="form-field">
          <label>Vendor</label>
          <div class="input-box">
            <input type="text" formControlName="vendor">
            <i class="close-icon"></i>
            <i class="chevron-icon"></i>
          </div>
        </div>

        <!-- Alt Code -->
        <div class="form-field">
          <label>Alt Code</label>
          <div class="input-box">
            <input type="text" formControlName="altCode">
            <i class="close-icon"></i>
          </div>
          <div class="status success">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M8 1C9.86806 1.03315 11.6482 1.78523 12.9574 3.09437C14.2665 4.40352 15 6.16509 15 8C15 9.83491 14.2665 11.5965 12.9574 12.9056C11.6482 14.2148 9.86806 14.9668 8 15C6.13194 14.9668 4.35179 14.2148 3.04264 12.9056C1.7335 11.5965 1 9.83491 1 8C1 6.16509 1.7335 4.40352 3.04264 3.09437C4.35179 1.78523 6.13194 1.03315 8 1ZM6.29169 11.2659L3.30797 8.7181C3.16509 8.57729 3.08486 8.3866 3.08486 8.18781C3.08486 7.98902 3.16509 7.79833 3.30797 7.65752C3.45158 7.51734 3.64583 7.43866 3.84831 7.43866C4.05079 7.43866 4.24505 7.51734 4.38866 7.65752L6.85647 9.69867L11.2203 5.09295C11.3637 4.95263 11.5579 4.87384 11.7603 4.87384C11.9627 4.87384 12.1569 4.95263 12.3002 5.09295C12.4429 5.23386 12.523 5.42451 12.523 5.62324C12.523 5.82197 12.4429 6.01261 12.3002 6.15352L7.39565 11.2903C7.32255 11.3617 7.2355 11.4179 7.13974 11.4555C7.04398 11.4931 6.94148 11.5113 6.83839 11.509C6.73529 11.5067 6.63372 11.484 6.53978 11.4422C6.44584 11.4005 6.36145 11.3405 6.29169 11.2659Z" fill="#00A499"/>
            </svg>
            <span>Code is valid and available for submission.</span>
          </div>
        </div>

        <!-- Product Description -->
        <div class="form-field">
          <div class="label-group">
            <label>Product Description</label>
            <span class="char-count">{{ descriptionLength }} / 35</span>
          </div>
          <div class="input-box">
            <input type="text" formControlName="description" placeholder="Enter">
          </div>
        </div>

        <!-- List Price and UOM -->
        <div class="double-field">
          <div class="form-field">
            <label>List Price</label>
            <div class="input-box">
              <input type="number" formControlName="listPrice" placeholder="0.00">
            </div>
          </div>

          <div class="form-field">
            <div class="label-group">
              <label>Unit of Measure</label>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 11.5V11.5001" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M6 6.50098V6.50098C6 5.39641 6.89543 4.50098 8 4.50098H8.14652C9.17017 4.50098 10 5.34795 10 6.3716V6.3716C10 7.0568 9.61287 7.69354 9 7.99997L8.89443 8.05276C8.34626 8.32684 8 8.8871 8 9.49997V9.49997" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="input-box">
              <i class="search-icon"></i>
              <select formControlName="uom">
                <option value="">Search and select</option>
                <option value="GL">GL (Gigalitre)</option>
                <option value="LB">LB (Pounds)</option>
              </select>
              <i class="chevron-icon"></i>
            </div>
          </div>
        </div>

        <!-- Line Buy -->
        <div class="form-field">
          <div class="label-group">
            <label>Line Buy</label>
            <div class="help-icon-container">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 11.5V11.5001" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M6 6.50098V6.50098C6 5.39641 6.89543 4.50098 8 4.50098H8.14652C9.17017 4.50098 10 5.34795 10 6.3716V6.3716C10 7.0568 9.61287 7.69354 9 7.99997L8.89443 8.05276C8.34626 8.32684 8 8.8871 8 9.49997V9.49997" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div class="tooltip">
                Category or group of products purchased or managed together, to helps sales associates categorize the product effectively and ensure alignment with inventory or supplier contracts.
              </div>
            </div>
          </div>
          <div class="input-box" (click)="toggleLineBuyDropdown()">
            <input type="text" formControlName="lineBuy" placeholder="Search and select" [value]="selectedLineBuy?.name || ''">
            <i class="chevron-icon"></i>
          </div>
          <div class="dropdown-menu" *ngIf="showLineBuyDropdown">
            <div class="recommended-section">
              <div class="section-header recommended">RECOMMENDED</div>
              <div class="option" *ngFor="let item of recommendedLineBuys" (click)="selectLineBuy(item)">
                <span>{{item.name}}</span>
                <div class="stars">
                  <svg *ngFor="let star of [1,2,3].slice(0, item.rating)" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 1L10.2042 5.46619L15.1329 6.18237L11.5665 9.65881L12.4084 14.5676L8 12.25L3.59161 14.5676L4.43354 9.65881L0.867076 6.18237L5.7958 5.46619L8 1Z" stroke="#FCAF17" stroke-width="1.4" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
            </div>
            <div class="default-section">
              <div class="section-header default">DEFAULT</div>
              <div class="option" (click)="selectLineBuy(defaultLineBuy)">
                <span>{{defaultLineBuy.name}}</span>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z" stroke="#2C9AFF" stroke-width="1.4"/>
                  <path d="M5 8L7 10L11 6" stroke="#2C9AFF" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Discount Group -->
        <div class="form-field">
          <div class="label-group">
            <label>Discount Group</label>
            <div class="help-icon-container">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 11.5V11.5001" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M6 6.50098V6.50098C6 5.39641 6.89543 4.50098 8 4.50098H8.14652C9.17017 4.50098 10 5.34795 10 6.3716V6.3716C10 7.0568 9.61287 7.69354 9 7.99997L8.89443 8.05276C8.34626 8.32684 8 8.8871 8 9.49997V9.49997" stroke="#1272BC" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div class="tooltip">
                Predefined set of discount structures applied to products, to facilitates faster quoting by predefining discounts based on the group selected.
              </div>
            </div>
          </div>
          <div class="input-box" (click)="toggleDiscountGroupDropdown()">
            <input type="text" formControlName="discountGroup" placeholder="Search and select" [value]="selectedDiscountGroup?.name || ''">
            <i class="chevron-icon"></i>
          </div>
          <div class="dropdown-menu" *ngIf="showDiscountGroupDropdown">
            <div class="recommended-section">
              <div class="section-header recommended">RECOMMENDED</div>
              <div class="option" *ngFor="let item of recommendedDiscountGroups" (click)="selectDiscountGroup(item)">
                <span>{{item.name}}</span>
                <div class="stars">
                  <svg *ngFor="let star of [1,2,3].slice(0, item.rating)" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 1L10.2042 5.46619L15.1329 6.18237L11.5665 9.65881L12.4084 14.5676L8 12.25L3.59161 14.5676L4.43354 9.65881L0.867076 6.18237L5.7958 5.46619L8 1Z" stroke="#FCAF17" stroke-width="1.4" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
            </div>
            <div class="default-section">
              <div class="section-header default">DEFAULT</div>
              <div class="option" (click)="selectDiscountGroup(defaultDiscountGroup)">
                <span>{{defaultDiscountGroup.name}}</span>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z" stroke="#2C9AFF" stroke-width="1.4"/>
                  <path d="M5 8L7 10L11 6" stroke="#2C9AFF" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Hazardous Material -->
        <div class="hazardous">
          <input type="checkbox" formControlName="isHazardous">
          <span>This product is a Hazardous Material</span>
          <i class="help-icon" title="Mark if this is a hazardous material"></i>
        </div>
      </form>

      <!-- Buttons -->
      <div class="buttons">
        <button class="btn-secondary" (click)="onCancel()">CANCEL</button>
        <div class="btn-group">
          <button class="btn-primary" [disabled]="!productForm.valid" (click)="onNext()">
            <span>NEXT</span>
            <i class="next-icon"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
